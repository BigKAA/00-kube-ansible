controller:
  # This section refers to the creation of the IngressClass resource
  # IngressClass resources are supported since k8s >= 1.18 and required since k8s >= 1.19
  ingressClassResource:
    name: "{{ ingressControllerClassName }}"
    enabled: true
    default: true
    controllerValue: "k8s.io/ingress-nginx"

  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
              - key: "app.kubernetes.io/name"
                operator: In
                values:
                  - ingress-nginx
          topologyKey: "kubernetes.io/hostname"

  replicaCount: {{ ingressControllerReplicaCount }}
  minAvailable: 1
  resources:
    requests:
      cpu: 100m
      memory: 90Mi

  service:
    enabled: true
    type: {{ ingressControllerServiceType }}

  admissionWebhooks:
    enabled: false

  metrics:
    enabled: true
    service:
      annotations:
       prometheus.io/scrape: "true"
       prometheus.io/port: "10254"

  priorityClassName: "medium-priority"

revisionHistoryLimit: 2

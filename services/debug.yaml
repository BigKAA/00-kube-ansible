# Холст для всяких тестов.
---
- name: Test playbook
  hosts: control1.kryukov.local
  #become: yes

  vars:
    ansible_python_interpreter: /usr/bin/python3
  tasks:

    - debug:
        var=ansible_facts.default_ipv4.interface
    # - name: Get coredns service IP address
    #   shell: kubectl -n kube-system get svc kube-dns -o jsonpath='{.spec.clusterIP}'
    #   register: coreds_ip
    # - name: Check
    #   debug:
    #     msg: "Abort"
    #   #when: groups['k8s_masters'] | length | int is divisibleby 2
    #   failed_when: groups['k8s_masters'] | length | int is divisibleby 2
    
    
    # - name: facts
    #   debug:
    #     var=ansible_facts
    # - name: IP
    #   debug:
    #     var=ansible_facts.default_ipv4.address
# hostvars['test.example.com']['ansible_facts']['distribution']
#    - name: Interface 
#      debug:
#        var=ansible_facts.default_ipv4.interface
    # - name: List
    #   debug:
    #     msg: ""
